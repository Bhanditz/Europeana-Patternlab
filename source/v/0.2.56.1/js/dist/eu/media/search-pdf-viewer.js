define(["jquery"],function(a){return function(){"use strict";function b(a){w=a,o.textContent=w.numPages,f(s)}function c(a){var c=a?a:m.getAttribute("data-src");console.log("get pdf_src: "+c),PDFJS.getDocument(c).then(b)}function d(){v=!1,null!==u&&(f(u),u=null)}function e(a){var b={},c=function(){},e=a.getViewport(t);m.height=e.height,m.width=e.width,b={canvasContext:r,viewport:e},c=a.render(b),c.promise.then(d)}function f(a){v=!0,w.getPage(a).then(e),p.textContent=s}function g(a){v?u=a:f(a)}function h(){1>=s||(s-=1,g(s))}function i(){s>=w.numPages||(s+=1,g(s))}function j(b,d){return m=b.find("canvas")[0],n=b.find("#pdfjs-next")[0],o=b.find("#pdfjs-page-count")[0],p=b.find("#pdfjs-page-number")[0],q=b.find("#pdfjs-prev")[0],r=m.getContext("2d"),PDFJS.workerSrc=l,a("head").append('<link rel="stylesheet" href="'+k+'" type="text/css"/>'),n.addEventListener("click",i),q.addEventListener("click",h),c(d)}var k=require.toUrl("../../lib/pdfjs/viewer.css"),l=require.toUrl("../../lib/pdfjs/pdf.worker.js"),m=null,n=null,o=null,p=null,q=null,r=null,s=1,t=1,u=null,v=!1,w=null;return{init:function(a,b){return j(a,b)}}}()});