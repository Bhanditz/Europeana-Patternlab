"undefined"==typeof DOMLoader&&(DOMLoader={}),DOMLoader.script=function(){return this.loaded={},this.loading={},this},DOMLoader.script.prototype.add=function(config){var that=this,srcs=config.srcs;"undefined"==typeof srcs&&(srcs=[{src:config.src,verify:config.verify}]);var doc=document.getElementsByTagName("head")[0],testElement=function(element,test){that.loaded[element.src]||test&&!eval(test)||(that.loaded[element.src]=!0,that.loading[element.src]&&that.loading[element.src](),delete that.loading[element.src],element.callback&&element.callback(),"undefined"!=typeof getNext&&getNext())},batchTest=[],addElement=function(a){/([\w\d.\[\]])$/.test(a.verify)&&(a.test="(typeof("+a.verify+') !== "undefined")',batchTest.push(a.test));var b=document.createElement("script");b.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||testElement(a)},b.onload=function(){testElement(a)},b.setAttribute("type","text/javascript"),b.setAttribute("src",a.src),doc.appendChild(b),that.loading[a.src]=function(){}},onLoad=function(element){if(element)testElement(element,element.test);else for(var n=0;n<srcs.length;n++)testElement(srcs[n],srcs[n].test);!config.strictOrder&&eval(batchTest.join(" && "))?config.callback&&config.callback():setTimeout(function(){onLoad(element)},10)};if(config.strictOrder){var ID=-1,getNext=function(){if(ID++,srcs[ID]){var a=srcs[ID],b=a.src;that.loading[b]?that.loading[b]=function(){a.callback&&a.callback(),getNext()}:that.loaded[b]?getNext():(addElement(a),onLoad(a))}else config.callback&&config.callback()};getNext()}else{for(var ID=0;ID<srcs.length;ID++){if(that.loaded[srcs[ID].src])return;addElement(srcs[ID])}onLoad()}},DOMLoader.script=new DOMLoader.script;