function Replayer(a,b,c,d){function e(){for(var b=null,c=null,d=null,e=0;e<g.length;e++)null!=g[e].ticksToNextEvent&&(null==b||g[e].ticksToNextEvent<b)&&(b=g[e].ticksToNextEvent,c=e,d=g[e].nextEventIndex);if(null!=c){var f=a.tracks[c][d];a.tracks[c][d+1]?g[c].ticksToNextEvent+=a.tracks[c][d+1].deltaTime:g[c].ticksToNextEvent=null,g[c].nextEventIndex+=1;for(var e=0;e<g.length;e++)null!=g[e].ticksToNextEvent&&(g[e].ticksToNextEvent-=b);return{ticksToEvent:b,event:f,track:c}}return null}function f(){function a(){i||"meta"!=l.event.type||"setTempo"!=l.event.subtype||(h=6e7/l.event.microsecondsPerBeat);var a=0,c=0;l.ticksToEvent>0&&(a=l.ticksToEvent/j,c=a/(h/60));var d=1e3*c*b||0;m.push([l,d]),l=e()}if(l=e())for(;l;)a(!0)}for(var g=[],h=d?d:120,i=!!d,j=a.header.ticksPerBeat,k=0;k<a.tracks.length;k++)g[k]={nextEventIndex:0,ticksToNextEvent:a.tracks[k].length?a.tracks[k][0].deltaTime:null};var l,m=[];return f(),{getData:function(){return clone(m)}}}var clone=function(a){if("object"!=typeof a)return a;if(null==a)return a;var b="number"==typeof a.length?[]:{};for(var c in a)b[c]=clone(a[c]);return b};