define(["jquery"],function(a){var b=function(){var b=a("#locale").val();a(".clear-auto-translate").on("click",function(){a(this).parent().find(":checkbox").attr("checked",!1)}),a("#settings-form").submit(function(c){c.preventDefault();var d=a("#locale").val(),e={locale:d};a.ajax({beforeSend:function(b){b.setRequestHeader("X-CSRF-Token",a('meta[name="csrf-token"]').attr("content"))},url:a(c.target).attr("action"),type:"PUT",data:JSON.stringify(e),contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){b!=d?(console.log("successfully changed locale from "+b+" to "+d+" (will reload page)"),b=d,window.location.reload()):console.log("locale unchanged from "+b)},error:function(a){console.log(a)}})})};return{initPage:function(){b()}}});