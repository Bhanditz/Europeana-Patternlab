videojs.Aurora=videojs.MediaTechController.extend({init:function(a,b,c){videojs.MediaTechController.call(this,a,b,c);var d=b.source;this.player_=a,this.isMuted=!1,d&&this.ready(function(){this.setSrc(d.src)}),this.triggerReady()}}),videojs.Aurora.prototype.params=[],videojs.Aurora.prototype.dispose=function(){videojs.MediaTechController.prototype.dispose.call(this)},videojs.Aurora.prototype.src=function(a){return void 0===a?this.currentSrc():this.setSrc(a)},videojs.Aurora.prototype.setSrc=function(a){var b=this;a=videojs.Aurora.getAbsoluteURL(a),this.av=new AV.Player.fromURL(a),this.av.on("progress",function(){b.player_.trigger("progress")}),this.av.on("ready",function(){b.player_.trigger("loadeddata")}),this.av.on("duration",function(){b.player_.trigger("durationchange")}),this.av.on("end",function(){b.player_.trigger("pause"),b.player_.trigger("ended")}),this.av.on("error",function(){b.player_.trigger("ended")}),this.player_.options.preload&&this.load(),this.player_.options.autoplay&&this.play()},videojs.Aurora.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:""},videojs.Aurora.prototype.load=function(){this.av.preload(),this.player_.trigger("loadstart")},videojs.Aurora.prototype.play=function(){this.player_.options.preload||0!==this.av.buffered||this.load(),this.av.play(),this.player_.trigger("play"),this.player_.trigger("playing")},videojs.Aurora.prototype.ended=function(){return!this.av.playing},videojs.Aurora.prototype.pause=function(){this.av.pause(),this.player_.trigger("pause")},videojs.Aurora.prototype.paused=function(){return!this.av.playing},videojs.Aurora.prototype.currentTime=function(){return this.av.currentTime/1e3},videojs.Aurora.prototype.setCurrentTime=function(a){this.av.seek(1e3*a)},videojs.Aurora.prototype.duration=function(){return this.av.duration/1e3},videojs.Aurora.prototype.buffered=function(){return this.av.buffered},videojs.Aurora.prototype.volume=function(){return this.av.volume/100},videojs.Aurora.prototype.setVolume=function(a){a&&(this.av.volume=100*a)},videojs.Aurora.prototype.muted=function(){return this.isMuted},videojs.Aurora.prototype.setMuted=function(a){a?(this.lastVolume=this.av.volume/100,this.av.volume=0):this.av.volume=100*this.lastVolume,this.isMuted=a,this.player_.trigger("volumechange")},videojs.Aurora.prototype.supportsFullScreen=function(){return!1},videojs.Aurora.getAbsoluteURL=function(a){return a.match(/^https?:\/\//)||(a=videojs.Component.prototype.createEl("div",{innerHTML:'<a href="'+a+'">x</a>'}).firstChild.href),a},videojs.Aurora.isSupported=function(){return(window.AudioContext||window.webkitAudioContext)&&"undefined"!=typeof AV},videojs.Aurora.canPlaySource=function(a){if(!a.type)return"";var b=a.type.replace(/;.*/,"").toLowerCase(),c="";switch(b){case"audio/wav":return"maybe";case"audio/m4a":c="alac";break;case"audio/mpeg":c="mp3";break;default:c=b.split("/")[1]}return""!==c&&AV.Decoder.find(c)?"maybe":""};