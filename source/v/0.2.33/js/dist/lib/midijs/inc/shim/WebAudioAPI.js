window.AudioContext=window.AudioContext||window.webkitAudioContext||null,window.OfflineAudioContext=window.OfflineAudioContext||window.webkitOfflineAudioContext||null,function(a){var b,c,d,e=function(a){return"[object Function]"===Object.prototype.toString.call(a)||"[object AudioContextConstructor]"===Object.prototype.toString.call(a)},f=[["createGainNode","createGain"],["createDelayNode","createDelay"],["createJavaScriptNode","createScriptProcessor"]];e(a)&&(c=new a,c.destination&&c.sampleRate&&(b=a.prototype,d=Object.getPrototypeOf(c.createBufferSource()),e(d.start)||e(d.noteOn)&&(d.start=function(a,b,c){switch(arguments.length){case 0:throw new Error("Not enough arguments.");case 1:this.noteOn(a);break;case 2:if(!this.buffer)throw new Error("Missing AudioBuffer");this.noteGrainOn(a,b,this.buffer.duration-b);break;case 3:this.noteGrainOn(a,b,c)}}),e(d.noteOn)||(d.noteOn=d.start),e(d.noteGrainOn)||(d.noteGrainOn=d.start),e(d.stop)||(d.stop=d.noteOff),e(d.noteOff)||(d.noteOff=d.stop),f.forEach(function(a){for(var b,c;a.length;)b=a.pop(),e(this[b])?this[a.pop()]=this[b]:(c=a.pop(),this[b]=this[c])},b)))}(window.AudioContext);